jQuery(document).ready((function(e){var t=e(".vfbp-form"),i=t.find(":submit"),n=e("#vfb-recaptcha-error");if(e(window).on("pageshow",(function(){e(".vfbp-form :submit").removeAttr("disabled")})),e.fn.parsley){if(t.parsley({namespace:"data-vfb-",errorClass:"vfb-has-error",successClass:"vfb-has-success",classHandler:function(e){return e.$element.parents('div[id*="vfbField"]')},errorsContainer:function(e){return e.$element.closest('div[id*="vfbField"]')},errorsWrapper:'<span class="vfb-help-block">',errorTemplate:"<div></div>",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden], [disabled], :hidden"}),n.length>0&&n.hide(),t.find(".g-recaptcha-v3").length>0){var r=t.find(".g-recaptcha-v3").data("sitekey");grecaptcha.ready((function(){grecaptcha.execute(r,{action:"vfbp_form"}).then((function(e){t.prepend('<input type="hidden" id="g-recaptcha-response" name="g-recaptcha-response" value="'+e+'" />')}))}))}t.submit((function(){return t.find(".g-recaptcha").length>0&&""===t.find("#g-recaptcha-response").val()||t.find(".g-recaptcha-v3").length>0&&""===t.find("#g-recaptcha-response").val()?(n.length>0&&n.show(),!1):void(t.parsley("isValid")&&(i.attr("disabled","disabled"),n.length>0&&n.hide(),e.fn.phoenix&&e('.vfbp-form :input:not(".vfb-file-input")').phoenix("remove")))}))}})),jQuery(document).ready((function(e){var t="This value is too short. It should have %s words or more.",i="This value is too long. It should have %s words or fewer.",n="This value length is invalid. It should be between %s and %s words long.";if(window.vfbp_validation_custom){var r=vfbp_validation_custom.vfbp_messages;t=r.minwords,i=r.maxwords,n=r.words}var a=function(e){return e.replace(/(^\s*)|(\s*$)/gi,"").replace(/[ ]{2,}/gi," ").replace(/\n /,"\n").split(" ").length};window.Parsley.addValidator("minwords",(function(e,t){return a(e)>=t}),32).addMessage("en","minwords",t),window.Parsley.addValidator("maxwords",(function(e,t){return a(e)<=t}),32).addMessage("en","maxwords",i),window.Parsley.addValidator("words",(function(e,t){var i=a(e);return i>=t[0]&&i<=t[1]}),32).addMessage("en","words",n);var s=function(t){return isNaN(+t)?parseFloat(e(t).val()):+t};window.Parsley.addValidator("gt",{validateString:function(e,t){return parseFloat(e)>s(t)},priority:32}),window.Parsley.addValidator("gte",{validateString:function(e,t){return parseFloat(e)>=s(t)},priority:32}),window.Parsley.addValidator("lt",{validateString:function(e,t){return parseFloat(e)<s(t)},priority:32}),window.Parsley.addValidator("lte",{validateString:function(e,t){return parseFloat(e)<=s(t)},priority:32}),window.Parsley.addMessages("en",{dateiso:"This value should be a valid date (YYYY-MM-DD).",minwords:"This value is too short. It should have %s words or more.",maxwords:"This value is too long. It should have %s words or fewer.",words:"This value length is invalid. It should be between %s and %s words long.",gt:"This value should be greater.",gte:"This value should be greater or equal.",lt:"This value should be less.",lte:"This value should be less or equal.",notequalto:"This value should be different."})})),function(e,t,i){"use strict";var n=function(){this.isHidden=!1,this.init()};n.prototype={init:function(){var t=this;if(e.vfbp_rules){var n=i.parseJSON(vfbp_rules.rules),r=[];this.processRules(n),i(n).each((function(){i.each(this.conditions,(function(){r.push("[name^=vfb-field-"+this["field-id"]+"]")}))})),i(r.join(",")).change((function(){t.processRules(n)}))}},processRules:function(e){var t=this;i(e).each((function(){var e=this["field-id"],n=this.type,r=this["match-type"],a=this.conditions;i.each(a,(function(i){t.match(a,r)?t.toggleDisplay(e,a[i],!1,n):t.toggleDisplay(e,a[i],!0,n)}))}))},toggleDisplay:function(e,t,n,r){var a=this.getFieldEl(e),s=i(a),o="vfb-rule-hide";if(s.length){var d=this.trim(a.className).replace(/\n/g,"");("show"===r&&!n||"hide"===r&&n)&&s.removeClass(o),("hide"===r&&!n||"show"===r&&n)&&(s.removeClass("error"),s.removeClass("vfb-hide"),s.removeClass("vfb-rule-hide"),s.addClass(o));var l=this.trim(a.className).replace(/\n/g,"")}},match:function(e,t){for(var n,r=0;r<e.length;r++){var a=this.getFieldType(i("#vfbField"+e[r]["field-id"]));if(n=this.compare(e[r],a),"any"===t&&!0===n){n=!0;break}if("all"===t&&!1===n){n=!1;break}}return n},compare:function(e,t){var i=e.filter,n=this.cleanForComparison(this.getFieldValue(e["field-id"],t,e.value)),r=this.cleanForComparison(e.value),a;return!this.isHidden&&this.filter(i,r,n)},getFieldType:function(e){return e.find(":input").prop("type").toLowerCase()},getField:function(e,t,n){return"radio"===e?this.getRadioField(e,t):"checkbox"===e?this.getCheckboxField(e,t,n):i("#vfb-field-"+t)[0]},getFieldValue:function(e,t,i){var n=this.getField(t,e,i),r="";return this.isHidden=this.isFieldHidden(n),this.isHidden||(r=this.getInputValue(t,n)),r},getFieldWrapper:function(e){var t=i(e).closest('div[id^="vfbField"]');return t.length?t[0]:e},getFieldEl:function(e){var t=i("#vfbField"+e);return(t=t.length?t:i("#vfbField"+e))[0]},getRadioField:function(e,t){for(var n="radio"===e?0:1,r=!0,a=!1;r;){var s=i("#vfb-field-"+t+"-"+n);s.length?(a=s[0],s.prop("checked")?r=!1:n+=1):r=!1}if(a&&"radio"===e&&"Other"===a.value){var o=i("#vfb-field-"+t+"-other");o.length&&(a=o[0])}return a},getCheckboxField:function(e,t,n){var r=!1,a=this,s=i("#vfbField"+t).find(":checkbox");return s.length&&s.each((function(){if(i(this).is(":checked")){var e=a.cleanForComparison(i(this).parent("label").text());a.cleanForComparison(n)===e&&(r=i(this)[0])}})),r},getInputValue:function(e,t){var i="";switch(e){case"checkbox":i=this.getCheckboxInputValue(t);break;case"radio":i=this.getRadioInputValue(t);break;default:i=this.getSimpleInputValue(t);break}return i},getCheckboxInputValue:function(e){var t=i("#"+e.id).parent("label").text();return e.checked?this.cleanForComparison(t):""},getRadioInputValue:function(e){return e.checked?e.value:""},getSimpleInputValue:function(e){return e.value},isFieldHidden:function(e){if(e){var t=this.getFieldWrapper(e);if(i(t).hasClass("vfb-rule-hide"))return!0}return!1},filter:function(e,t,i){var n="";switch(e){case"is":n=this.is(t,i);break;case"is not":n=this.isNot(t,i);break;case"contains":n=this.contains(t,i);break;case"does not contain":n=this.doesNotContain(t,i);break;case"begins with":n=this.beginsWith(t,i);break;case"ends with":n=this.endsWith(t,i);break;case"is equal to":n=this.isEqualTo(this.toNumber(t),this.toNumber(i));break;case"is not equal to":n=this.isNotEqualTo(this.toNumber(t),this.toNumber(i));break;case"is greater than":n=this.isGreaterThan(this.toNumber(t),this.toNumber(i));break;case"is less than":n=this.isLessThan(this.toNumber(t),this.toNumber(i));break}return n},is:function(e,t){return e===t},isNot:function(e,t){return e!==t},contains:function(e,t){return""===e&&""===t||(""!==e||""===t)&&-1!==String(t).indexOf(e)},doesNotContain:function(e,t){return(""!==e||""!==t)&&(""===e&&""!==t||-1===String(t).indexOf(e))},beginsWith:function(e,t){return 0===String(t).indexOf(e)},endsWith:function(e,t){var i=t.length-e.length;return i>=0&&String(t).lastIndexOf(e)===i},isEqualTo:function(e,t){return this.is(e,t)},isNotEqualTo:function(e,t){return this.isNot(e,t)},isGreaterThan:function(e,t){return""!==t&&(e=Number(e),(t=Number(t))>e)},isLessThan:function(e,t){return""!==t&&(e=Number(e),(t=Number(t))<e)},cleanForComparison:function(e){return this.trim(this.stripTags(String(e)).toLowerCase())},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},stripTags:function(e){return i("<div></div>").html(e).text()},toNumber:function(e){void 0===e&&(e="0");var t=Number(e);return t=isNaN(t)?0:t}},e.VFBProRuleLogic=new n}(window,document,jQuery),jQuery(document).ready((function(e){e.fn.jSignature&&e(".vfb-signature").length>0&&e(".vfb-signature").each((function(){var t=e(this).jSignature(),i=e(this).prev(".vfb-signature-input"),n=t.next(".vfb-signature-buttons"),r=n.next(".vfb-signature-error"),a;r.length>0&&r.hide(),t.on("change",(function(i){var s=e(i.target).jSignature("getData","native");n.show(),(s.length>2||1===s.length&&s[0].x.length>20)&&(a=t.jSignature("getData"),r.length>0&&r.hide(),e(".vfbp-form").parsley("isValid")&&e(".vfbp-form :submit").removeAttr("disabled"))})),t.next(".vfb-signature-buttons").click((function(e){e.preventDefault(),t.jSignature("reset"),a=""})),e(".vfbp-form").submit((function(){if((void 0===a||""==a)&&r.length>0)return r.show(),!1;e(".vfbp-form").parsley("isValid")&&t.prev(i).val(a)}))}))})),jQuery(document).ready((function(e){if(e.fn.vfbSteps){var t=vfbp_pageBreak_L10n.btnPrev,i=vfbp_pageBreak_L10n.btnNext,n=vfbp_pageBreak_L10n.titleDisplay,r=vfbp_pageBreak_L10n.titleClick,a=vfbp_pageBreak_L10n.numDisplay;e(".vfbp-form").vfbSteps({titleDisplay:n,titleClick:r,numDisplay:a,validate:!0,block:!0,backLabel:t,nextLabel:i})}})),jQuery(document).ready((function(e){e.fn.phoenix&&e('.vfbp-form :input:not(".vfb-file-input")').phoenix()})),jQuery(document).ready((function(e){e.fn.clockpicker&&e(".vfb-clockpicker").clockpicker()})),jQuery(document).ready((function(e){if(e.fn.addressfield){var t=["vfb-addresspart-address-1","vfb-addresspart-city","vfb-addresspart-province","vfb-addresspart-zip"],i;window.vfbp_address_config&&(i=vfbp_address_config.vfbp_addresses),e(".vfb-address-block").length>0&&e(".vfb-address-block").each((function(){var n=e(this).attr("id"),r=e(this).find(".vfb-addresspart-country").val();e("#"+n).addressfield(i[r],t)})),e(".vfb-addresspart-country").change((function(){var n;e(this).closest(".vfb-address-block").addressfield(i[this.value],t)}))}})),jQuery(document).ready((function(e){e.fn.autoNumeric&&e(".vfb-currency").autoNumeric()})),jQuery(document).ready((function(e){e.fn.intlTelInput&&e(".vfb-intl-phone").intlTelInput({utilsScript:vfbp_phone_format.vfbp_phone_url})})),jQuery(document).ready((function(e){e.fn.fileinput&&e(".vfb-file-input").fileinput({showUpload:!1,layoutTemplates:{main1:'{preview}\n<div class="vfb-input-group {class}">\n   {caption}\n   <div class="vfb-input-group-btn">\n       {remove}\n       {upload}\n       {browse}\n   </div>\n</div>',main2:"{preview}\n{remove}\n{upload}\n{browse}\n",preview:'<div class="file-preview {class}">\n   <div class="vfb-close fileinput-remove text-right">×</div>\n   <div class="file-preview-thumbnails"></div>\n   <div class="vfb-clearfix"></div>   <div class="file-preview-status text-center text-success"></div>\n   <div class="kv-fileinput-error"></div>\n</div>',icon:"",caption:'<div tabindex="-1" class="vfb-form-control file-caption {class}">\n   <div class="file-caption-name"></div>\n</div>',modal:'<div id="{id}" class="modal fade">\n  <div class="modal-dialog modal-lg">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="vfb-close" data-dismiss="modal" aria-hidden="true">×</button>\n        <h3 class="modal-title">Detailed Preview <small>{title}</small></h3>\n      </div>\n      <div class="modal-body">\n        <textarea class="vfb-form-control" style="font-family:Monaco,Consolas,monospace; height: {height}px;" readonly>{body}</textarea>\n      </div>\n    </div>\n  </div>\n</div>\n'}})})),jQuery(document).ready((function(e){e.fn.pwstrength&&e(".vfb-password").pwstrength({common:{zxcvbn:!0}})})),jQuery(document).ready((function(e){e.fn.iris&&e(".vfb-color-picker").iris()})),jQuery(document).ready((function(e){e.fn.tokenize&&e(".vfb-autocomplete").tokenize()})),jQuery(document).ready((function(e){e.fn.ionRangeSlider&&e(".vfb-range-slider").ionRangeSlider()})),jQuery(document).ready((function(e){e.fn.rating&&e(".vfb-rating-input").rating()})),jQuery(document).ready((function(e){e.fn.knob&&e(".vfb-knob").knob()}));